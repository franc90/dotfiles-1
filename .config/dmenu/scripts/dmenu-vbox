#!/bin/sh

dmenu_themed() {
    dmenu -nb "#282A36" \
          -nf "#F8F8F2" \
          -sb "#BFBFBF" \
          -sf "#282A36" \
          -fn "Mono-12.5" \
          "$@"
}

vm=$(VBoxManage list vms \
         | sed 's/"\(.*\)".*/\1/' \
         | dmenu_themed -l 25 -p "VirtualBox" -i)

[ -z "$vm" ] && exit 1

VBoxSDL -vm "$vm"

[ "$?" = "1" ] && notify-send "VirtualBox" "$vm is already running"
